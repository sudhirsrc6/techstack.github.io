(self.webpackChunkphng_util=self.webpackChunkphng_util||[]).push([[7741],{67741:(D,_,t)=>{t.r(_);var c=t(11339),m=t(21546),a=t(38377);let E=(()=>{class n{}return n.\u0275fac=function(d){return new(d||n)},n.\u0275cmp=a.\u0275\u0275defineComponent({type:n,selectors:[["phng-root"]],decls:1,vars:0,template:function(d,M){1&d&&a.\u0275\u0275element(0,"router-outlet")},dependencies:[m.RouterOutlet],encapsulation:2}),n})();var u=t(42797),s=t(60280),l=t(41394),e=t(83607),r=t(16509),o=t(9119);let v=(()=>{class n{}return n.\u0275fac=function(d){return new(d||n)},n.\u0275mod=a.\u0275\u0275defineNgModule({type:n,bootstrap:[E]}),n.\u0275inj=a.\u0275\u0275defineInjector({providers:[{provide:s.HTTP_INTERCEPTORS,useClass:r._,multi:!0},{provide:s.HTTP_INTERCEPTORS,useClass:e.k,multi:!0},{provide:"BASE_API_URL",useValue:l.environment.apiUrl.replace("4200",l.environment.PHNG_UTIL_PORT.toString())}],imports:[c.BrowserModule,u.CommonModule,o.BrowserAnimationsModule,m.RouterModule.forRoot([{path:"",loadChildren:()=>Promise.all([t.e(8423),t.e(4708),t.e(4722),t.e(1034),t.e(7330)]).then(t.bind(t,57330)).then(i=>i.RemoteEntryModule)}],{initialNavigation:"enabledBlocking"})]}),n})();c.platformBrowser().bootstrapModule(v).catch(n=>console.error(n))},9566:(D,_,t)=>{t.d(_,{V:()=>u});var c=t(93367),a=t(38377);let u=(()=>{class s{constructor(e){this._cookie=e,this.storage={}}get(e){return this.storage[e]||localStorage.getItem(e)}set(e,r,o){this.storage[e]=r,o&&localStorage.setItem(e,r)}remove(e){try{localStorage.removeItem(e)}catch{}return delete this.storage[e]}setWithExpiry(e,r,o){let n={value:r,expiry:(new Date).getTime()+o};localStorage.setItem(e,JSON.stringify(n))}getWithExpiry(e){const r=localStorage.getItem(e);if(!r)return null;const o=JSON.parse(r);return(new Date).getTime()>o.expiry?(localStorage.removeItem(e),null):o.value}setCookie(e,r,o){o&&this._cookie.set(e,r)}getCookie(e){return this._cookie.check(e)&&this._cookie.get(e)}clear(){localStorage.clear()}}return s.\u0275fac=function(e){return new(e||s)(a.\u0275\u0275inject(c.CookieService))},s.\u0275prov=a.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},63800:(D,_,t)=>{t.d(_,{$:()=>s});var c=t(21546),a=t(9566),E=t(38377);let s=(()=>{class l{constructor(r,o){this.router=r,this.storeService=o,this.tokenKey="UserToken",this.userDetailKey="UserDetails"}logout(){this.storeService.remove(this.tokenKey),this.storeService.remove(this.userDetailKey),this.router.navigate(["/login"])}}return l.\u0275fac=function(r){return new(r||l)(E.\u0275\u0275inject(c.Router),E.\u0275\u0275inject(a.V))},l.\u0275prov=E.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},83607:(D,_,t)=>{t.d(_,{k:()=>n}),t(60280);var a=t(43970),u=t(76209),l=t(21546),r=t(63800),o=t(38377);let n=(()=>{class i{constructor(M,O){this.router=M,this.authService=O}intercept(M,O){return O.handle(M).pipe((0,u.catchError)(P=>{[401,403].includes(P.status)&&this.authService.logout();const g=P&&P.error&&P.error.message||P.statusText;return console.error(P),(0,a.throwError)(g)}))}}return i.\u0275fac=function(M){return new(M||i)(o.\u0275\u0275inject(l.Router),o.\u0275\u0275inject(r.$))},i.\u0275prov=o.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},16509:(D,_,t)=>{t.d(_,{_:()=>l}),t(60280);var a=t(44599),u=t(38377);let l=(()=>{class e{constructor(o){this.baseUrl=o}intercept(o,v){const n=localStorage.getItem("UserToken");return o=o.clone({url:`${this.baseUrl}/${o.url}`,headers:o.headers.append("Authorization",`Bearer ${n}`).append("X-Correlation-Id",(0,a.v4)())}),v.handle(o)}}return e.\u0275fac=function(o){return new(o||e)(u.\u0275\u0275inject("BASE_API_URL"))},e.\u0275prov=u.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);