(self.webpackChunkphng_util=self.webpackChunkphng_util||[]).push([[7330,4319],{57330:(P,y,r)=>{r.r(y),r.d(y,{RemoteEntryModule:()=>Le});var g=r(42797),T=r(21546),e=r(38377),x=r(94722),i=r(55453),a=r(88423),s=r(29798),d=r(79448),c=r(87726),C=r(41394),_=r(27640);function b(n,l){1&n&&(e.\u0275\u0275elementStart(0,"span",15),e.\u0275\u0275text(1,"Enter i18n key, actual label is populated from i18n value"),e.\u0275\u0275elementEnd())}function E(n,l){1&n&&(e.\u0275\u0275elementStart(0,"span",15),e.\u0275\u0275text(1,"Enter i18n key, actual label is populated from i18n value"),e.\u0275\u0275elementEnd())}function h(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275template(3,E,2,0,"span",5),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.tooltip),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.formElements.tooltip)}}function D(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.elementType)}}function v(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.dataType)}}function f(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.required)}}function I(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.editable)}}function M(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.appendIconLeft)}}function S(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.icon)}}function j(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.appendTextTop)}}function w(n,l){1&n&&(e.\u0275\u0275elementStart(0,"span",15),e.\u0275\u0275text(1,"Enter i18n key, actual label is populated from i18n value"),e.\u0275\u0275elementEnd())}function F(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275template(3,w,2,0,"span",5),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.appendTextLabel),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.formElements.appendTextLabel&&t.formElements.appendTextLabel.viewable)}}function O(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.forceSelection)}}function H(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.field)}}function R(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.apiUrl)}}function V(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.concatMultipleFields)}}function B(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.concatDelimiter)}}function W(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.concatFieldsHeaders)}}function K(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.concatFields)}}function $(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.defaultOption)}}function k(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.dropdownData)}}function z(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.optionLabel)}}function X(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.optionValue)}}function G(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.appendLabelPosition)}}function Q(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.options)}}function Y(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.checkboxType)}}function Z(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.buttonClass)}}function q(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",3),e.\u0275\u0275element(2,"app-dynamic-element",4),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",t.formElements.saveConfig)}}function ee(n,l){if(1&n&&e.\u0275\u0275element(0,"app-dynamic-element",4),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("elementConfig",t.previewElement)}}const te=function(){return{width:"60vw"}};let A=(()=>{class n{constructor(t,o){this.elementsService=t,this.translateService=o,this.formElements={},this.savedConfig=new e.EventEmitter,this.showJsonConfigWindow=!1,this.reloadPreview=!1}ngOnInit(){this.elementsService.getElementsContext("element-config/element").then(t=>{this.formActions(t)})}formActions(t){this.elementsContext=t,this.formElements=t.getFormElements(),this.generateConfig(),this.refreshPreview(),this.conditionalRender(),this.saveConfig()}saveConfig(){this.elementsContext?.onClick(this.formElements.saveConfig,()=>{if(this.elementsContext?.isFormValid()){let t=this.elementsContext?.getFormData();t.dropdownData&&(t.dropdownData=JSON.parse(t.dropdownData)),t.concatFieldsHeaders&&(t.concatFieldsHeaders=JSON.parse(t.concatFieldsHeaders)),t.concatFields&&(t.concatFields=JSON.parse(t.concatFields)),t.options&&(t.options=JSON.parse(t.options)),t.defaultOption&&(t.defaultOption=JSON.parse(t.defaultOption)),Object.keys(t).forEach(o=>{null===t[o]?delete t[o]:this.inputData[o]=t[o]}),this.inputData.saved=!0,this.inputData.showDialog=!1,this.savedConfig.emit(this.inputData),console.log("formData",t)}else alert("Enter all the mandatory fields")})}conditionalRender(){const t=["icon"],o=["appendTextLabel"];this.formElements.appendIconLeft.formControl.valueChanges.subscribe(u=>{!0===u?this.enableFields(t,[]):this.enableFields([],t)}),this.formElements.appendTextTop.formControl.valueChanges.subscribe(u=>{!0===u?this.enableFields(o,[]):this.enableFields([],o)});const m=["concatFieldsHeaders","concatFields","concatDelimiter"];this.formElements.concatMultipleFields.formControl.valueChanges.subscribe(u=>{!0===u?this.enableFields(m,[]):this.enableFields([],m)});const p=["appendIconLeft","defaultOption","appendTextTop","dataType","forceSelection","concatDelimiter","apiUrl","concatMultipleFields","concatFieldsHeaders","concatFields","dropdownData","optionLabel","optionValue","options","checkboxType","buttonClass","field","appendLabelPosition"];this.formElements.elementType.formControl.valueChanges.subscribe(u=>{"input"===u&&this.enableFields(["dataType","appendIconLeft","appendTextTop"],p),"autocomplete"===u&&this.enableFields(["appendIconLeft","appendTextTop","forceSelection","dropdownData","concatMultipleFields","apiUrl","field","defaultOption"],p),"dropdown"===u&&this.enableFields(["appendIconLeft","appendTextTop","dropdownData","apiUrl","optionLabel","optionValue","defaultOption"],p),"checkbox"===u&&this.enableFields(["checkboxType","appendLabelPosition"],p),"radio"===u&&this.enableFields(["options"],p),("date"===u||"time"===u)&&this.enableFields(["appendIconLeft","appendTextTop"],p),"textarea"===u&&this.enableFields(["appendIconLeft","appendTextTop"],p),"button"===u&&this.enableFields(["buttonClass"],p)})}enableFields(t,o){o.forEach(m=>{this.formElements[m].viewable=!1}),t.forEach(m=>{this.formElements[m].viewable=!0})}generateConfig(){this.elementsContext?.onClick(this.formElements.generateConfig,()=>{if(this.elementsContext?.isFormValid()){let t=this.elementsContext?.getFormData();t.dropdownData&&(t.dropdownData=JSON.parse(t.dropdownData),console.log("formData.dropdownData",t.dropdownData)),t.concatFieldsHeaders&&(t.concatFieldsHeaders=JSON.parse(t.concatFieldsHeaders)),t.concatFields&&(t.concatFields=JSON.parse(t.concatFields)),t.options&&(t.options=JSON.parse(t.options)),t.defaultOption&&(t.defaultOption=JSON.parse(t.defaultOption)),Object.keys(t).forEach(o=>{null===t[o]&&delete t[o]}),this.formJsonConfig=t,this.showJsonConfigWindow=!0,console.log("formData",t)}else alert("Enter all the mandatory fields")})}refreshPreview(){this.elementsContext?.onClick(this.formElements.preview,()=>{if(this.elementsContext?.isFormValid()){let t=new c.l;t.setTranslationService(this.translateService);let o=this.elementsContext?.getFormData();o.dropdownData&&(o.dropdownData=JSON.parse(o.dropdownData)),o.concatFieldsHeaders&&(o.concatFieldsHeaders=JSON.parse(o.concatFieldsHeaders)),o.concatFields&&(o.concatFields=JSON.parse(o.concatFields)),o.options&&(o.options=JSON.parse(o.options)),o.defaultOption&&(o.defaultOption=JSON.parse(o.defaultOption)),t.setUiConfigJson({fields:{preview:o}},{}),this.previewElement=t.getFormElements().preview,this.reloadPreview=!1,setTimeout(()=>{this.reloadPreview=!0},1)}else alert("Enter all the mandatory fields")})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(d.n),e.\u0275\u0275directiveInject(s.TranslateService))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-configure-element"]],inputs:{inputData:"inputData"},outputs:{savedConfig:"savedConfig"},decls:53,vars:40,consts:[[1,"row",2,"margin","20px"],[1,"col-3"],[1,"row"],[1,"col-12"],[3,"elementConfig"],["style","color: darkgray; font-size: small;",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-9"],[1,"col-4"],[1,"col-5"],["header","Element preview"],[1,"col-12",2,"text-align","center"],[1,"m-0",2,"padding-top","100px","background","linen","height","300px","padding-left","20px","padding-right","20px"],[3,"elementConfig",4,"ngIf"],["header","Element JSON config",3,"visible","position","modal","visibleChange"],[2,"color","darkgray","font-size","small"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.\u0275\u0275element(4,"app-dynamic-element",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",2)(6,"div",3),e.\u0275\u0275element(7,"app-dynamic-element",4),e.\u0275\u0275template(8,b,2,0,"span",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(9,h,4,2,"div",6),e.\u0275\u0275template(10,D,3,1,"div",6),e.\u0275\u0275template(11,v,3,1,"div",6),e.\u0275\u0275template(12,f,3,1,"div",6),e.\u0275\u0275template(13,I,3,1,"div",6),e.\u0275\u0275template(14,M,3,1,"div",6),e.\u0275\u0275template(15,S,3,1,"div",6),e.\u0275\u0275template(16,j,3,1,"div",6),e.\u0275\u0275template(17,F,4,2,"div",6),e.\u0275\u0275template(18,O,3,1,"div",6),e.\u0275\u0275template(19,H,3,1,"div",6),e.\u0275\u0275template(20,R,3,1,"div",6),e.\u0275\u0275template(21,V,3,1,"div",6),e.\u0275\u0275template(22,B,3,1,"div",6),e.\u0275\u0275template(23,W,3,1,"div",6),e.\u0275\u0275template(24,K,3,1,"div",6),e.\u0275\u0275template(25,$,3,1,"div",6),e.\u0275\u0275template(26,k,3,1,"div",6),e.\u0275\u0275template(27,z,3,1,"div",6),e.\u0275\u0275template(28,X,3,1,"div",6),e.\u0275\u0275template(29,G,3,1,"div",6),e.\u0275\u0275template(30,Q,3,1,"div",6),e.\u0275\u0275template(31,Y,3,1,"div",6),e.\u0275\u0275template(32,Z,3,1,"div",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"div",7)(34,"div",2)(35,"div",8)(36,"div",2)(37,"div",3),e.\u0275\u0275element(38,"app-dynamic-element",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(39,q,3,1,"div",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"div",9)(41,"p-card",10)(42,"div",2)(43,"div",11),e.\u0275\u0275element(44,"app-dynamic-element",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(45,"p",12),e.\u0275\u0275template(46,ee,1,1,"app-dynamic-element",13),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275element(47,"div",1),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(48,"p-dialog",14),e.\u0275\u0275listener("visibleChange",function(p){return o.showJsonConfigWindow=p}),e.\u0275\u0275elementStart(49,"pre")(50,"p"),e.\u0275\u0275text(51),e.\u0275\u0275pipe(52,"json"),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("elementConfig",o.formElements.fieldName),e.\u0275\u0275advance(3),e.\u0275\u0275property("elementConfig",o.formElements.placeholder),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.placeholder),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.tooltip&&o.formElements.tooltip.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.elementType&&o.formElements.elementType.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.dataType&&o.formElements.dataType.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.required&&o.formElements.required.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.editable&&o.formElements.editable.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.appendIconLeft&&o.formElements.appendIconLeft.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.icon&&o.formElements.icon.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.appendTextTop&&o.formElements.appendTextTop.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.appendTextLabel&&o.formElements.appendTextLabel.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.forceSelection&&o.formElements.forceSelection.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.field&&o.formElements.field.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.apiUrl&&o.formElements.apiUrl.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.concatMultipleFields&&o.formElements.concatMultipleFields.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.concatDelimiter&&o.formElements.concatDelimiter.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.concatFieldsHeaders&&o.formElements.concatFieldsHeaders.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.concatFields&&o.formElements.concatFields.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.dropdownData&&o.formElements.defaultOption.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.dropdownData&&o.formElements.dropdownData.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.optionLabel&&o.formElements.optionLabel.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.optionValue&&o.formElements.optionValue.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.appendLabelPosition&&o.formElements.appendLabelPosition.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.options&&o.formElements.options.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.checkboxType&&o.formElements.checkboxType.viewable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formElements.buttonClass&&o.formElements.buttonClass.viewable),e.\u0275\u0275advance(6),e.\u0275\u0275property("elementConfig",o.formElements.generateConfig),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.inputData),e.\u0275\u0275advance(5),e.\u0275\u0275property("elementConfig",o.formElements.preview),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.reloadPreview),e.\u0275\u0275advance(2),e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction0(39,te)),e.\u0275\u0275property("visible",o.showJsonConfigWindow)("position","top")("modal",!0),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(52,37,o.formJsonConfig)))},dependencies:[g.NgIf,C.DynamicElementComponent,i.Card,_.Dialog,g.JsonPipe]}),n})();var J=r(13437);function ne(n,l){if(1&n&&e.\u0275\u0275element(0,"app-dynamic-element",4),2&n){const t=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("elementConfig",o.formElements[t.fieldName])}}function oe(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,ne,1,1,"app-dynamic-element",3),e.\u0275\u0275elementEnd()),2&n){const t=l.$implicit,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275classMapInterpolate1("col-",o.col,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.fieldName)}}function ie(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",1),e.\u0275\u0275template(1,oe,2,4,"div",2),e.\u0275\u0275elementEnd()),2&n){const t=l.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.cols)}}let ae=(()=>{class n{constructor(t){this.translateService=t,this.formElements={}}ngOnInit(){console.log(this.formLayoutData);let t={fields:{}};t.backendSecurityName=this.formLayoutData.backendSecurityName,this.formLayoutData.rows.forEach(m=>{m.cols.forEach(p=>{0!==Object.keys(p).length&&(t.fields[p.fieldName]=p)})});let o=new c.l;o.setTranslationService(this.translateService),o.setUiConfigJson(t,{}),this.formElements=o.getFormElements()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(s.TranslateService))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-preview-form"]],inputs:{formLayoutData:"formLayoutData",cols:"cols",col:"col"},decls:1,vars:1,consts:[["class","row","style","margin-bottom:6px;",4,"ngFor","ngForOf"],[1,"row",2,"margin-bottom","6px"],[3,"class",4,"ngFor","ngForOf"],[3,"elementConfig",4,"ngIf"],[3,"elementConfig"]],template:function(t,o){1&t&&e.\u0275\u0275template(0,ie,2,1,"div",0),2&t&&e.\u0275\u0275property("ngForOf",o.formLayoutData.rows)},dependencies:[g.NgForOf,g.NgIf,C.DynamicElementComponent]}),n})();function le(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"span",23),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.placeholder," ")}}function re(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"i",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const m=e.\u0275\u0275nextContext().$implicit;return e.\u0275\u0275resetView(m.showDialog=!0)}),e.\u0275\u0275elementEnd()}}function se(n,l){1&n&&e.\u0275\u0275element(0,"i",25)}function me(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"app-configure-element",26),e.\u0275\u0275listener("savedConfig",function(m){e.\u0275\u0275restoreView(t);const p=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(p.savedConfig(m))}),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("inputData",t)}}const pe=function(){return{width:"80%"}};function de(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"div",17),e.\u0275\u0275template(2,le,2,1,"span",18),e.\u0275\u0275template(3,re,1,0,"i",19),e.\u0275\u0275template(4,se,1,0,"i",20),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"p-dialog",21),e.\u0275\u0275listener("visibleChange",function(m){const u=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(u.showDialog=m)}),e.\u0275\u0275template(6,me,1,1,"app-configure-element",22),e.\u0275\u0275elementEnd()()}if(2&n){const t=l.$implicit,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275classMapInterpolate1("col-",o.col,""),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.showAdd&&t.placeholder),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.showAdd&&!t.saved),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.showAdd&&t.saved),e.\u0275\u0275advance(1),e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction0(12,pe)),e.\u0275\u0275property("visible",t.showDialog)("position","top")("modal",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.showDialog)}}function ce(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",15),e.\u0275\u0275template(1,de,7,13,"div",16),e.\u0275\u0275elementEnd()),2&n){const t=l.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.cols)}}function fe(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"pre"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"json"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,t.content))}}function ue(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"pre"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.content)}}function ve(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"p-tabPanel",27),e.\u0275\u0275template(1,fe,3,3,"pre",28),e.\u0275\u0275template(2,ue,2,1,"pre",28),e.\u0275\u0275elementEnd()),2&n){const t=l.$implicit;e.\u0275\u0275property("header",t.title),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.json),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.json)}}function ge(n,l){if(1&n&&e.\u0275\u0275element(0,"app-preview-form",29),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("formLayoutData",t.formLayoutData)("cols",t.cols)("col",t.col)}}const _e=function(){return{width:"30%"}},U=function(){return{width:"50%"}};let Ce=(()=>{class n{constructor(t,o){this.elementsService=t,this.translateService=o,this.layoutDialog=!1,this.cols=4,this.col=0,this.showAdd=!1,this.rows=[],this.formElements={},this.generateAngularCodeDialog=!1,this.formLayoutData={},this.activeIndex=0,this.scrollableTabs=[],this.previewFormDialog=!1}ngOnInit(){this.col=12/this.cols;for(let t=0;t<=25;t++){let o={cols:[]};this.rows.push(o);for(let m=0;m<this.cols;m++)o.cols.push({})}this.elementsService.getElementsContext("element-config/form-config").then(t=>{this.formActions(t)})}savedConfig(t){delete t.showDialog,delete t.saved,this.formElements.generateAngularCode.editable=!0,this.formElements.previewForm.editable=!0}formActions(t){this.elementsContext=t,this.formElements=t.getFormElements(),this.openFormLayoutDialog(),this.createColumns(),this.generateAngularCode(),this.previewForm()}previewForm(){this.elementsContext?.onClick(this.formElements.previewForm,()=>{console.log("formLayoutData",this.formLayoutData),this.previewFormDialog=!0})}generateAngularCode(){this.elementsContext?.onClick(this.formElements.generateAngularCode,()=>{console.log("formLayoutData",this.formLayoutData),this.generateAngularCodeDialog=!0;let t={fields:{}};t.backendSecurityName=this.formLayoutData.backendSecurityName,this.formLayoutData?.rows?.forEach(o=>{o.cols.forEach(m=>{0!==Object.keys(m).length&&(delete m.formControl,delete m.unused,delete m.formData,t.fields[m.fieldName]=m)})}),this.typeScriptCodeSnippet(t),this.htmlCodeSnippetGenerate(),this.scrollableTabs=[],this.scrollableTabs.push({title:"Config JSON",content:t,json:!0}),this.scrollableTabs.push({title:"Component Code Snippet",content:this.codeSnippet}),this.scrollableTabs.push({title:"Html Code Snippet",content:this.htmlCodeSnippet})})}htmlCodeSnippetGenerate(){let t="";this.formLayoutData?.rows?.forEach(o=>{let m="";m+='<div class="row">';let p=!0,u="";o.cols.forEach(N=>{N.fieldName?(u+=`<div class="col-${this.col}">`,u+=`<app-dynamic-element [elementConfig]="formElements.${N.fieldName}"></app-dynamic-element>`,u+="</div>",p=!1):(u+=`<div class="col-${this.col}">`,u+="</div>")}),p||(m+=u),m+="</div>",p||(t+=m)}),this.htmlCodeSnippet=t}typeScriptCodeSnippet(t){let m="",p="";Object.keys(t.fields).forEach(u=>{"button"!==t.fields[u].elementType&&(m+=`\n          this.formElements['${u}'].formControl.valueChanges.subscribe((data: any) => {\n            // call comes here for any change to field ${u}, implement action accordingly\n          });       \n        `),"button"===t.fields[u].elementType&&(p+=`          \n          this.elementsContext?.onClick(this.formElements['${u}'], () => {\n            // call comes here for any click on field ${u}, implement action accordingly\n          });       \n        `)}),this.codeSnippet=`\n      import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';      \n      import { DynamicElementsService } from 'libs/shared/common/src/lib/phng-security/dynamic-elements.service';\n      import { ElementsContext } from 'libs/shared/common/src/lib/phng-security/elements-context';\n\n      @Component({\n        selector: 'app-[update-here]',\n        templateUrl: './[update-here].html',\n        styleUrls: ['./[update-here].css']\n      })\n      export class XXXXXComponent implements OnInit {\n        formElements: any = {};\n        elementsContext: ElementsContext | undefined; \n\n        constructor(private elementsService: DynamicElementsService) { }\n\n        ngOnInit() {\n          this.elementsService.getElementsContext('${this.formLayoutData.backendSecurityName}').then((elementsContext: ElementsContext) => {   \n            this.formActions(elementsContext);                        \n          });\n\n          // Use below snippet to populate form data\n          const formData = {};\n          this.elementsService.getElementsContext('${this.formLayoutData.backendSecurityName}', formData).then((elementsContext: ElementsContext) => {   \n            this.formActions(elementsContext);                        \n          });\n\n        } \n\n        private formActions(elementsContext: ElementsContext) {\n          this.elementsContext = elementsContext;\n          this.formElements = elementsContext.getFormElements();           \n          this.subscribElementsClickEvents();\n          this.subscribElementsValueChangeEvents();          \n        }\n        \n        private onSubmit() {\n          // Below example is to check the form validation\n          if (this.elementsContext?.isFormValid()) {\n            // To get form data\n            let formData: any = this.elementsContext?.getFormData();\n          }\n        }\n        \n        private fewOtherExamples() {\n          // example to disable / enable field\n          this.formElements['enter field name here'].editable = false;\n\n          // example to hide / show field\n          this.formElements['enter field name here'].viewable = false;\n        }\n         \n\n        private subscribElementsClickEvents() {\n          ${p}\n        }\n\n        private subscribElementsValueChangeEvents() {\n          ${m}\n        }\n      }\n      `,this.codeSnippet=js_beautify(this.codeSnippet,{indent_size:2,space_in_empty_paren:!0})}openFormLayoutDialog(){this.elementsContext?.onClick(this.formElements.createFormLayout,()=>{this.layoutDialog=!0})}createColumns(){this.elementsContext?.onClick(this.formElements.createColumns,()=>{if(this.elementsContext?.isFormValid()){let t=this.elementsContext?.getFormData();console.log("formData",t),this.formLayoutData.backendSecurityName=t.backendSecurityName,this.cols=parseInt(t.cols),this.col=12/this.cols,this.layoutDialog=!1,this.showAdd=!0,this.rows=[];for(let o=0;o<=25;o++){let m={cols:[]};this.rows.push(m);for(let p=0;p<this.cols;p++)m.cols.push({})}this.formLayoutData.rows=this.rows,this.showAdd=!0,this.formElements.createFormLayout.editable=!1}else alert("Enter all the mandatory fields")})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(d.n),e.\u0275\u0275directiveInject(s.TranslateService))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-form-config"]],decls:33,vars:29,consts:[[1,"container"],[1,"row",2,"text-align","center"],[1,"col-xs-12",2,"text-align","center"],[3,"elementConfig"],[2,"padding-left","25px"],["class","row","style","margin-bottom:6px;",4,"ngFor","ngForOf"],["header","Form Layout",3,"visible","position","modal","visibleChange"],[1,"row",2,"padding-top","10px"],[1,"col-xs-12"],["header","Angular code snippet",3,"visible","position","modal","visibleChange"],[1,"card"],[3,"activeIndex","scrollable","activeIndexChange"],[3,"header",4,"ngFor","ngForOf"],["header","Form Preview",3,"visible","position","modal","visibleChange"],[3,"formLayoutData","cols","col",4,"ngIf"],[1,"row",2,"margin-bottom","6px"],[3,"class",4,"ngFor","ngForOf"],[1,"p-skeleton",2,"height","2rem"],["style","font-size: 8px; font-size: larger;",4,"ngIf"],["class","pi pi-plus","style","cursor: pointer; color: slateblue;width: 100%; text-align: center;",3,"click",4,"ngIf"],["class","pi pi-pencil","style","cursor: pointer; color: slateblue;padding-left: 4px",4,"ngIf"],["header","Element Config",3,"visible","position","modal","visibleChange"],[3,"inputData","savedConfig",4,"ngIf"],[2,"font-size","8px","font-size","larger"],[1,"pi","pi-plus",2,"cursor","pointer","color","slateblue","width","100%","text-align","center",3,"click"],[1,"pi","pi-pencil",2,"cursor","pointer","color","slateblue","padding-left","4px"],[3,"inputData","savedConfig"],[3,"header"],[4,"ngIf"],[3,"formLayoutData","cols","col"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"br")(2,"br"),e.\u0275\u0275elementStart(3,"div",1)(4,"div",2),e.\u0275\u0275element(5,"app-dynamic-element",3)(6,"span",4)(7,"app-dynamic-element",3)(8,"span",4)(9,"app-dynamic-element",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(10,"br"),e.\u0275\u0275template(11,ce,2,1,"div",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"p-dialog",6),e.\u0275\u0275listener("visibleChange",function(p){return o.layoutDialog=p}),e.\u0275\u0275elementStart(13,"div",7)(14,"div",8),e.\u0275\u0275element(15,"app-dynamic-element",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div",7)(17,"div",8),e.\u0275\u0275element(18,"app-dynamic-element",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(19,"br")(20,"br"),e.\u0275\u0275elementStart(21,"div",7)(22,"div",2),e.\u0275\u0275element(23,"app-dynamic-element",3),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(24,"p-dialog",9),e.\u0275\u0275listener("visibleChange",function(p){return o.generateAngularCodeDialog=p}),e.\u0275\u0275text(25," Generated angular code assuming that json file copied to assets/form-configs/[backendSecurityName].json "),e.\u0275\u0275element(26,"br")(27,"br"),e.\u0275\u0275elementStart(28,"div",10)(29,"p-tabView",11),e.\u0275\u0275listener("activeIndexChange",function(p){return o.activeIndex=p}),e.\u0275\u0275template(30,ve,3,3,"p-tabPanel",12),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(31,"p-dialog",13),e.\u0275\u0275listener("visibleChange",function(p){return o.previewFormDialog=p}),e.\u0275\u0275template(32,ge,1,3,"app-preview-form",14),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(5),e.\u0275\u0275property("elementConfig",o.formElements.createFormLayout),e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",o.formElements.generateAngularCode),e.\u0275\u0275advance(2),e.\u0275\u0275property("elementConfig",o.formElements.previewForm),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",o.rows),e.\u0275\u0275advance(1),e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction0(26,_e)),e.\u0275\u0275property("visible",o.layoutDialog)("position","top")("modal",!0),e.\u0275\u0275advance(3),e.\u0275\u0275property("elementConfig",o.formElements.backendSecurityName),e.\u0275\u0275advance(3),e.\u0275\u0275property("elementConfig",o.formElements.cols),e.\u0275\u0275advance(5),e.\u0275\u0275property("elementConfig",o.formElements.createColumns),e.\u0275\u0275advance(1),e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction0(27,U)),e.\u0275\u0275property("visible",o.generateAngularCodeDialog)("position","top")("modal",!0),e.\u0275\u0275advance(5),e.\u0275\u0275property("activeIndex",o.activeIndex)("scrollable",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",o.scrollableTabs),e.\u0275\u0275advance(1),e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction0(28,U)),e.\u0275\u0275property("visible",o.previewFormDialog)("position","top")("modal",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.previewFormDialog))},dependencies:[g.NgForOf,g.NgIf,C.DynamicElementComponent,_.Dialog,J.TabView,J.TabPanel,A,ae,g.JsonPipe],styles:['.p-skeleton[_ngcontent-%COMP%]{position:relative;overflow:hidden}.p-skeleton[_ngcontent-%COMP%]:after{content:"";animation:_ngcontent-%COMP%_p-skeleton-animation 2.2s infinite;height:100%;left:0;position:absolute;right:0;top:0;transform:translate(-100%);z-index:1}.p-skeleton.p-skeleton-circle[_ngcontent-%COMP%]{border-radius:50%}.p-skeleton-none[_ngcontent-%COMP%]:after{animation:none}@keyframes _ngcontent-%COMP%_p-skeleton-animation{0%{transform:translate(-100%)}to{transform:translate(100%)}}']}),n})();function he(n,l){1&n&&e.\u0275\u0275element(0,"img",8)}function Ee(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"p-button",9),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const m=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(m.formConfig=!0)}),e.\u0275\u0275elementEnd()}}function ye(n,l){1&n&&e.\u0275\u0275element(0,"img",8)}function be(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"p-button",9),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const m=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(m.elementConfig=!0)}),e.\u0275\u0275elementEnd()}}function xe(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"br")(2,"br")(3,"br"),e.\u0275\u0275elementStart(4,"div",1),e.\u0275\u0275element(5,"div",2),e.\u0275\u0275elementStart(6,"div",2)(7,"p-card",3),e.\u0275\u0275template(8,he,1,0,"ng-template",4),e.\u0275\u0275elementStart(9,"p",5),e.\u0275\u0275text(10," To configure a form with multiple elements, has an option to configure each element along with group of form elements. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,Ee,1,0,"ng-template",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",2)(13,"p-card",7),e.\u0275\u0275template(14,ye,1,0,"ng-template",4),e.\u0275\u0275elementStart(15,"p",5),e.\u0275\u0275text(16," To configure individual element "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(17,be,1,0,"ng-template",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(18,"div",2),e.\u0275\u0275elementEnd()())}function De(n,l){1&n&&e.\u0275\u0275element(0,"app-configure-element")}function Te(n,l){1&n&&e.\u0275\u0275element(0,"app-form-config")}const Se=[{path:"",component:(()=>{class n{constructor(){this.elementConfig=!1,this.formConfig=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-home"]],decls:3,vars:3,consts:[[4,"ngIf"],[1,"row",2,"margin-left","0px","margin-right","0px"],[1,"col-3"],["header","Form configuration"],["pTemplate","header"],[2,"height","70px"],["pTemplate","footer"],["header","Element configuration"],["alt","Card","src","assets/setting.gif",2,"width","70%"],["label","Open","styleClass","p-button-outlined p-button-help",3,"click"]],template:function(t,o){1&t&&(e.\u0275\u0275template(0,xe,19,0,"div",0),e.\u0275\u0275template(1,De,1,0,"app-configure-element",0),e.\u0275\u0275template(2,Te,1,0,"app-form-config",0)),2&t&&(e.\u0275\u0275property("ngIf",!o.elementConfig&&!o.formConfig),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.elementConfig),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.formConfig))},dependencies:[g.NgIf,x.Button,i.Card,a.PrimeTemplate,A,Ce]}),n})()}];var L=r(60280),we=r(87830),Fe=r(9231),Ie=r(68225);class Oe{static get(l){return s.TranslateModule.forRoot({loader:{provide:s.TranslateLoader,useFactory:t=>new Ie.TranslateHttpLoader(t,l?l+"/assets/i18n/":"assets/i18n/",".json"),deps:[L.HttpClient]},defaultLanguage:"en-US"})}}var Pe=r(94708);let Le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({providers:[L.HttpClient,we._,Fe.z,d.n],imports:[g.CommonModule,T.RouterModule.forChild(Se),Oe.get(),C.PhngSecurityModule.getModule(),x.ButtonModule,i.CardModule,C.PrimengModule,L.HttpClientModule,Pe.ReactiveFormsModule]}),n})()},87830:(P,y,r)=>{r.d(y,{_:()=>i});var g=r(60280),e=r(38377);let i=(()=>{class a{constructor(d){this.http=d}get(d,c){return this.http.get(d,{params:this.getParams(c)})}post(d,c,C){return this.http.post(d,c,{params:this.getParams(C)})}put(d,c,C){return this.http.put(d,c,{params:this.getParams(C)})}delete(d,c,C){return this.http.delete(d,{body:c,params:this.getParams(C)})}patch(d,c,C){return this.http.patch(d,c,{params:this.getParams(C)})}getParams(d){if(!d)return{};let c=new g.HttpParams;for(let[C,_]of d)c=c.append(C,_);return c}}return a.\u0275fac=function(d){return new(d||a)(e.\u0275\u0275inject(g.HttpClient))},a.\u0275prov=e.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},9231:(P,y,r)=>{r.d(y,{z:()=>d});var g=r(60280),e=r(76209),i=r(87830),a=r(38377);let d=(()=>{class c extends i._{constructor(_){super(_)}getCall(_,b,E,h,D){super.get(`${_}`,D).pipe((0,e.map)(v=>v)).subscribe(v=>{b(v)},v=>{E(v)})}postCall(_,b,E,h,D,v){super.post(`${_}`,b,v).pipe((0,e.map)(f=>f)).subscribe(f=>{E(f)},f=>{h(f)})}putCall(_,b,E,h,D,v){super.put(`${_}`,b,v).pipe((0,e.map)(f=>f)).subscribe(f=>{E(f)},f=>{h(f)})}deleteCall(_,b,E,h,D,v){super.delete(`${_}`,b,v).pipe((0,e.map)(f=>f)).subscribe(f=>{E(f)},f=>{h(f)})}patchCall(_,b,E,h,D,v){super.patch(`${_}`,b,v).pipe((0,e.map)(f=>f)).subscribe(f=>{E(f)},f=>{h(f)})}}return c.\u0275fac=function(_){return new(_||c)(a.\u0275\u0275inject(g.HttpClient))},c.\u0275prov=a.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},77070:(P,y,r)=>{r.d(y,{S:()=>i});var g=r(60280),e=r(38377);let i=(()=>{class a{constructor(d,c){this.remoteApp=d,this.http=c}getConfig(d){let c="assets/form-configs/"+d+".json";return this.remoteApp&&this.remoteApp.length>0&&(c=this.remoteApp+"/assets/form-configs/"+d+".json"),this.http.get(c)}}return a.\u0275fac=function(d){return new(d||a)(e.\u0275\u0275inject("remoteApp"),e.\u0275\u0275inject(g.HttpClient))},a.\u0275prov=e.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},79448:(P,y,r)=>{r.d(y,{n:()=>E});var g=r(87726),T=r(43970),x=r(60280),a=r(76209),d=r(77070),c=r(29798),_=r(38377);let E=(()=>{class h{constructor(v,f,I){this.httpClient=v,this.uiConfigSevice=f,this.translateService=I,this.securityConfig={}}getElementsContext(v,f){return new Promise((I,M)=>{let S=new g.l;S.setTranslationService(this.translateService),new Promise((w,F)=>{this.getUiConfigs(v).subscribe(O=>{O&&w(O)},O=>{console.log("UI Config data not found for file name:"+v,O),w(JSON.parse("{}"))})}).then(w=>{S.setUiConfigJson(w,f),this.getPageRestrictions(w.backendSecurityName).subscribe(F=>{if(F)return S.setSecurityConfigJson(F),I(S)},F=>(console.log("Security Config data not found for id:"+w.backendSecurityName,F),S.setSecurityConfigJson(JSON.parse("{}")),I(S)))})})}getPageRestrictions(v){return this.securityConfig[v]?(0,T.of)(this.securityConfig[v]):this.httpClient.post("api-gateway/general-service-app/general-service/api/v1/user/screen/security",{screenId:v}).pipe((0,a.map)(f=>(this.securityConfig[v]=f,f)))}getUiConfigs(v){return this.uiConfigSevice.getConfig(v)}}return h.\u0275fac=function(v){return new(v||h)(_.\u0275\u0275inject(x.HttpClient),_.\u0275\u0275inject(d.S),_.\u0275\u0275inject(c.TranslateService))},h.\u0275prov=_.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},87726:(P,y,r)=>{r.d(y,{l:()=>e});var g=r(94708);class e{constructor(){this.enableBackendSecurity=!1,this.elementsFormGroups={}}setTranslationService(i){this.translateService=i}setSecurityConfigJson(i){this.securityConfigJson=i,this.securityConfigJson&&this.mergeSecurityConfigs(this.securityConfigJson)}setUiConfigJson(i,a){this.uiConfigJson=i,this.uiConfigJson.fields&&Object.keys(this.uiConfigJson.fields).forEach(s=>{this.uiConfigJson.fields[s].formData=a||{},this.createElementFormControl(this.uiConfigJson.fields[s],a),this.translateField(this.uiConfigJson.fields[s])})}isFormValid(){let i=!0;return Object.keys(this.uiConfigJson.fields).forEach(a=>{const s=this.uiConfigJson.fields[a];s.formControl.invalid&&s.viewable&&!0===s.viewable&&!s.unused&&"button"!==s.elementType&&(s.formControl.markAsTouched(),i=!1)}),i}getFormData(){let i={};return Object.keys(this.uiConfigJson.fields).forEach(a=>{const s=this.uiConfigJson.fields[a];s.viewable&&!0===s.viewable&&!s.unused&&"button"!==s.elementType&&(i[s.fieldName]=s.formControl.value)}),i}isFormTouched(){let i=!1;return Object.keys(this.uiConfigJson.fields).forEach(a=>{const s=this.uiConfigJson.fields[a];s.formControl.touched&&s.viewable&&!0===s.viewable&&!s.unused&&"button"!==s.elementType&&(i=!0)}),i}createElementFormControl(i,a){void 0===i.viewable&&(i.viewable=!0),i.unused=!0;let s=null;i.defaultValue&&(s=i.defaultValue);const d=a?a[i.fieldName]:s;let c=this.setValidations(i);i.formControl=new g.FormControl({value:d,disabled:void 0!==i.editable&&i.editable?!i.editable:void 0!==i.editable},c)}setValidations(i){let a=[];return i.required&&!0===i.required&&a.push(g.Validators.required),a}translateField(i){this.setI18nValue(i.placeholder,a=>{i.placeholder=a}),this.setI18nValue(i.tooltip,a=>{i.tooltip=a}),this.setI18nValue(i.appendTextLabel,a=>{i.appendTextLabel=a})}setI18nValue(i,a){!i||this.translateService.get(i).subscribe(s=>{a(s)})}mergeSecurityConfigs(i){!i.userFieldSettingList||!this.enableBackendSecurity||i.userFieldSettingList.forEach(a=>{let s=this.uiConfigJson.fields[a.fieldId];null!=a.editable&&(s.editable=a.editable,(void 0!==s.editable&&s.editable?!s.editable:void 0!==s.editable)&&s.formControl.disable()),null!=a.viewable&&(s.viewable=a.viewable),null!=a.fieldLabel&&(s.placeholder=a.fieldLabel),null!=a.fieldLabel&&(s.tooltip=a.fieldLabel),null!=a.fieldLabel&&s.appendTextLabel&&(s.appendTextLabel=a.fieldLabel)})}getFormElements(){return this.uiConfigJson.fields||console.log("No fields are configured in json"),this.uiConfigJson.fields}onChange(i,a){i.onChange=a}onBlur(i,a){i.onBlur=a}onFocus(i,a){i.onFocus=a}onClick(i,a){i.onClick=a}publishDropdownDataByObservable(i,a){i.loading=!0,a.subscribe(s=>{i.dropdownData=s,i.populateDropdownList(),i.loading=!1},s=>{i.loading=!1,console.log("error populating data to:",i)})}publishDropdownData(i,a){i.dropdownData=a,i.populateDropdownList()}}}}]);