(self.webpackChunkphng_util=self.webpackChunkphng_util||[]).push([[4319],{87830:(D,g,s)=>{s.d(g,{_:()=>t});var _=s(60280),u=s(38377);let t=(()=>{class e{constructor(r){this.http=r}get(r,i){return this.http.get(r,{params:this.getParams(i)})}post(r,i,d){return this.http.post(r,i,{params:this.getParams(d)})}put(r,i,d){return this.http.put(r,i,{params:this.getParams(d)})}delete(r,i,d){return this.http.delete(r,{body:i,params:this.getParams(d)})}patch(r,i,d){return this.http.patch(r,i,{params:this.getParams(d)})}getParams(r){if(!r)return{};let i=new _.HttpParams;for(let[d,l]of r)i=i.append(d,l);return i}}return e.\u0275fac=function(r){return new(r||e)(u.\u0275\u0275inject(_.HttpClient))},e.\u0275prov=u.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},9231:(D,g,s)=>{s.d(g,{z:()=>r});var _=s(60280),u=s(76209),t=s(87830),e=s(38377);let r=(()=>{class i extends t._{constructor(l){super(l)}getCall(l,p,c,f,h){super.get(`${l}`,h).pipe((0,u.map)(a=>a)).subscribe(a=>{p(a)},a=>{c(a)})}postCall(l,p,c,f,h,a){super.post(`${l}`,p,a).pipe((0,u.map)(o=>o)).subscribe(o=>{c(o)},o=>{f(o)})}putCall(l,p,c,f,h,a){super.put(`${l}`,p,a).pipe((0,u.map)(o=>o)).subscribe(o=>{c(o)},o=>{f(o)})}deleteCall(l,p,c,f,h,a){super.delete(`${l}`,p,a).pipe((0,u.map)(o=>o)).subscribe(o=>{c(o)},o=>{f(o)})}patchCall(l,p,c,f,h,a){super.patch(`${l}`,p,a).pipe((0,u.map)(o=>o)).subscribe(o=>{c(o)},o=>{f(o)})}}return i.\u0275fac=function(l){return new(l||i)(e.\u0275\u0275inject(_.HttpClient))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},77070:(D,g,s)=>{s.d(g,{S:()=>t});var _=s(60280),u=s(38377);let t=(()=>{class e{constructor(r,i){this.remoteApp=r,this.http=i}getConfig(r){let i="assets/form-configs/"+r+".json";return this.remoteApp&&this.remoteApp.length>0&&(i=this.remoteApp+"/assets/form-configs/"+r+".json"),this.http.get(i)}}return e.\u0275fac=function(r){return new(r||e)(u.\u0275\u0275inject("remoteApp"),u.\u0275\u0275inject(_.HttpClient))},e.\u0275prov=u.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},79448:(D,g,s)=>{s.d(g,{n:()=>c});var _=s(87726),C=s(43970),E=s(60280),e=s(76209),r=s(77070),i=s(29798),l=s(38377);let c=(()=>{class f{constructor(a,o,O){this.httpClient=a,this.uiConfigSevice=o,this.translateService=O,this.securityConfig={}}getElementsContext(a,o){return new Promise((O,b)=>{let m=new _.l;m.setTranslationService(this.translateService),new Promise((v,P)=>{this.getUiConfigs(a).subscribe(M=>{M&&v(M)},M=>{console.log("UI Config data not found for file name:"+a,M),v(JSON.parse("{}"))})}).then(v=>{m.setUiConfigJson(v,o),this.getPageRestrictions(v.backendSecurityName).subscribe(P=>{if(P)return m.setSecurityConfigJson(P),O(m)},P=>(console.log("Security Config data not found for id:"+v.backendSecurityName,P),m.setSecurityConfigJson(JSON.parse("{}")),O(m)))})})}getPageRestrictions(a){return this.securityConfig[a]?(0,C.of)(this.securityConfig[a]):this.httpClient.post("api-gateway/general-service-app/general-service/api/v1/user/screen/security",{screenId:a}).pipe((0,e.map)(o=>(this.securityConfig[a]=o,o)))}getUiConfigs(a){return this.uiConfigSevice.getConfig(a)}}return f.\u0275fac=function(a){return new(a||f)(l.\u0275\u0275inject(E.HttpClient),l.\u0275\u0275inject(r.S),l.\u0275\u0275inject(i.TranslateService))},f.\u0275prov=l.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},87726:(D,g,s)=>{s.d(g,{l:()=>u});var _=s(94708);class u{constructor(){this.enableBackendSecurity=!1,this.elementsFormGroups={}}setTranslationService(t){this.translateService=t}setSecurityConfigJson(t){this.securityConfigJson=t,this.securityConfigJson&&this.mergeSecurityConfigs(this.securityConfigJson)}setUiConfigJson(t,e){this.uiConfigJson=t,this.uiConfigJson.fields&&Object.keys(this.uiConfigJson.fields).forEach(n=>{this.uiConfigJson.fields[n].formData=e||{},this.createElementFormControl(this.uiConfigJson.fields[n],e),this.translateField(this.uiConfigJson.fields[n])})}isFormValid(){let t=!0;return Object.keys(this.uiConfigJson.fields).forEach(e=>{const n=this.uiConfigJson.fields[e];n.formControl.invalid&&n.viewable&&!0===n.viewable&&!n.unused&&"button"!==n.elementType&&(n.formControl.markAsTouched(),t=!1)}),t}getFormData(){let t={};return Object.keys(this.uiConfigJson.fields).forEach(e=>{const n=this.uiConfigJson.fields[e];n.viewable&&!0===n.viewable&&!n.unused&&"button"!==n.elementType&&(t[n.fieldName]=n.formControl.value)}),t}isFormTouched(){let t=!1;return Object.keys(this.uiConfigJson.fields).forEach(e=>{const n=this.uiConfigJson.fields[e];n.formControl.touched&&n.viewable&&!0===n.viewable&&!n.unused&&"button"!==n.elementType&&(t=!0)}),t}createElementFormControl(t,e){void 0===t.viewable&&(t.viewable=!0),t.unused=!0;let n=null;t.defaultValue&&(n=t.defaultValue);const r=e?e[t.fieldName]:n;let i=this.setValidations(t);t.formControl=new _.FormControl({value:r,disabled:void 0!==t.editable&&t.editable?!t.editable:void 0!==t.editable},i)}setValidations(t){let e=[];return t.required&&!0===t.required&&e.push(_.Validators.required),e}translateField(t){this.setI18nValue(t.placeholder,e=>{t.placeholder=e}),this.setI18nValue(t.tooltip,e=>{t.tooltip=e}),this.setI18nValue(t.appendTextLabel,e=>{t.appendTextLabel=e})}setI18nValue(t,e){!t||this.translateService.get(t).subscribe(n=>{e(n)})}mergeSecurityConfigs(t){!t.userFieldSettingList||!this.enableBackendSecurity||t.userFieldSettingList.forEach(e=>{let n=this.uiConfigJson.fields[e.fieldId];null!=e.editable&&(n.editable=e.editable,(void 0!==n.editable&&n.editable?!n.editable:void 0!==n.editable)&&n.formControl.disable()),null!=e.viewable&&(n.viewable=e.viewable),null!=e.fieldLabel&&(n.placeholder=e.fieldLabel),null!=e.fieldLabel&&(n.tooltip=e.fieldLabel),null!=e.fieldLabel&&n.appendTextLabel&&(n.appendTextLabel=e.fieldLabel)})}getFormElements(){return this.uiConfigJson.fields||console.log("No fields are configured in json"),this.uiConfigJson.fields}onChange(t,e){t.onChange=e}onBlur(t,e){t.onBlur=e}onFocus(t,e){t.onFocus=e}onClick(t,e){t.onClick=e}publishDropdownDataByObservable(t,e){t.loading=!0,e.subscribe(n=>{t.dropdownData=n,t.populateDropdownList(),t.loading=!1},n=>{t.loading=!1,console.log("error populating data to:",t)})}publishDropdownData(t,e){t.dropdownData=e,t.populateDropdownList()}}}}]);